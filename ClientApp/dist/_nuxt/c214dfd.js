(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1951:function(t,e,n){"use strict";var o=n(5),r=(n(30),n(49)),c={components:{DxButton:r.DxButton},methods:{close:function(){this.$emit("close")}}},l=(n(2077),n(7)),d=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"custom-drawer"},[n("div",{staticClass:"closeButton",on:{click:t.close}},[n("div",{staticClass:"custom-button--close"},[n("i",{staticClass:"dx-icon dx-icon-close"}),t._v("\n      "+t._s(t.$t("buttons.closed"))+"\n    ")])]),t._v(" "),n("div",{staticClass:"custom-drawer-content"},[t._t("content")],2)])}),[],!1,null,null,null).exports,f=n(337),dialog=n(137),m=n(142),x=n.n(m),h=n(1067),v=n.n(h),y=n(1937),O=n.n(y),B={components:{DxButton:r.DxButton,DxToolbar:x.a,DxItem:m.DxItem},props:["isCard","fieldIndex","documentType"],inject:["trySaveDocumentType"],data:function(){return{saveIcon:v.a,saveAndCloseIcon:O.a}},computed:{isNew:function(){return this.$store.getters["dynamicDocumentComponents/".concat(this.documentType,"/isNew")]},isDataChanged:function(){return this.$store.getters["dynamicDocumentComponents/".concat(this.documentType,"/isDataChanged")]},addFieldButtonOptions:function(){var t=this;return{onClick:function(){f.a.addNewElement(t,t.documentType)},icon:"plus",text:this.$t("dynamicDocuments.buttons.addField")}},backButtonOptions:function(){var t=this;return{onClick:function(){t.$router.go(-1)},stylingMode:"text",icon:"back"}},removeFieldButtonOptions:function(){var t=this;return{onClick:function(){f.a.removeElement(t,t.documentType,t.fieldIndex),t.$emit("clearIndex")},icon:"trash",text:this.$t("dynamicDocuments.buttons.removeField")}},createFieldUnderButtonOptions:function(){var t=this;return{onClick:function(){f.a.addNewElement(t,t.documentType,t.fieldIndex)},icon:"plus",visible:this.fieldIndex,text:this.$t("dynamicDocuments.buttons.addFieldUnder")}},saveButtonOptions:function(){var t,e=this;return{icon:v.a,disabled:!this.isDataChanged,visible:"create"!=this.documentType,onClick:(t=Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.trySaveDocumentType();case 2:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})}},saveAndBackButtonOptions:function(){var t,e=this;return{icon:O.a,hint:this.$t("buttons.saveAndBack"),disabled:!this.isDataChanged,onClick:(t=Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.trySaveDocumentType();case 3:e.$emit("close"),t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])}))),function(){return t.apply(this,arguments)})}},removeDocumentButtonOptions:function(){var t=this;return{icon:"trash",type:"normal",hint:this.$t("document.remove"),visible:this.isNew&&"create"!=this.documentType,onClick:function(){Object(dialog.confirm)(t.$t("shared.areYouSure"),t.$t("shared.confirm")).then((function(e){e&&t.$awn.asyncBlock(f.a.removeType(t,t.documentType),(function(e){t.$emit("close"),t.$awn.success()}),(function(e){t.$awn.alert()}))}))}}},refreshButtonOptions:function(){return{icon:"refresh",onClick:function(){}}}}},w=B,j=(n(2079),Object(l.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navBar"},[n("DxToolbar",[n("DxItem",{attrs:{widget:"dxButton",location:"before",options:t.backButtonOptions}}),t._v(" "),n("DxItem",{attrs:{visible:t.isNew,locateInMenu:"auto",options:t.saveButtonOptions,location:"before",widget:"dxButton"}}),t._v(" "),n("DxItem",{attrs:{visible:t.isNew,locateInMenu:"auto",options:t.saveAndBackButtonOptions,location:"before",widget:"dxButton"}}),t._v(" "),t.isNew?n("DxItem",{attrs:{locateInMenu:"auto",options:t.addFieldButtonOptions,location:"before",widget:"dxButton"}}):t._e(),t._v(" "),n("DxItem",{attrs:{visible:t.isNew,locateInMenu:"auto",options:t.createFieldUnderButtonOptions,location:"before",widget:"dxButton"}}),t._v(" "),n("DxItem",{attrs:{visible:null!==t.fieldIndex&&t.isNew,locateInMenu:"auto",options:t.removeFieldButtonOptions,location:"before",widget:"dxButton"}}),t._v(" "),n("DxItem",{attrs:{options:t.removeDocumentButtonOptions,location:"after",widget:"dxButton"}})],1)],1)}),[],!1,null,"4bd20320",null).exports),D=(n(48),n(40),n(43),n(50),n(51),n(14)),R=n(20),I=n.n(R),T=n(32),_=n(33),F=(n(111),n(65)),C=n(66),S=n(45),k=(n(459),{DxTextBox:"dxTextBox",DxDateBox:"dxDateBox",DxNumberBox:"dxNumberBox",DxCheckBox:"dxCheckBox",DxTextArea:"dxTextArea",AutoCompleteBox:"AutoCompleteBox",EmployeeBox:"EmployeeBox",RecipientBox:"RecipientBox",BusinessUnitBox:"BusinessUnitBox",DepartmentBox:"DepartmentBox",DocumentBox:"DocumentBox",CounterPartBox:"CounterPartBox",ContactBox:"ContactBox"}),$=function(){function t(e){var n=this,o=e.context,r=e.value,c=e.storeId;Object(T.a)(this,t),this._setBaseValue=function(t,e){n.text=t.$t("dynamicDocuments.editorTypes.".concat(e)),n.id=k[e]},this._dataField=function(){return{dataField:"dataField",label:{text:n.context.$t("dynamicDocuments.updateField.dataField")},isRequired:!0,editorOptions:{showClearButton:!0}}},this._translationTk=function(){return{dataField:"translationTk",label:{text:n.context.$t("dynamicDocuments.updateField.translationTk")},isRequired:!0,editorOptions:{showClearButton:!0}}},this._translationRu=function(){return{dataField:"translationRu",label:{text:n.context.$t("dynamicDocuments.updateField.translationRu")},isRequired:!0,editorOptions:{showClearButton:!0}}},this._colSpan=function(){return{dataField:"colSpan",label:{text:n.context.$t("dynamicDocuments.updateField.colSpan")},editorType:"dxNumberBox",editorOptions:{max:"2",min:"1",showSpinButtons:!0,showClearButton:!0}}},this._isRequired=function(){return{dataField:"isRequired",label:{text:n.context.$t("dynamicDocuments.updateField.isRequired")},editorOptions:{showClearButton:!0},editorType:"dxSwitch"}},this.context=o,this._setBaseValue(o,r),this._setStoreId(c)}return Object(_.a)(t,[{key:"getObject",value:function(){return{text:this.text,id:this.id,isRequired:!1,dataSource:this.fieldSetting}}},{key:"_setStoreId",value:function(t){this.storeId=t}},{key:"fieldSetting",get:function(){return[this._isRequired(),this._colSpan(),this._translationRu(),this._translationTk(),this._dataField()]}}],[{key:"baseSettingField",get:function(){return["id","dataField","translationRu","translationTk","editorType","colSpan"]}},{key:"clearFields",value:function(e){var n=t.baseSettingField,o=Object.entries(e);return Object.fromEntries(o.filter((function(t){return n.some((function(e){return e===t[0]}))})))}}]),t}();function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(S.a)(t);if(e){var r=Object(S.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(C.a)(this,n)}}var N=function(t){Object(F.a)(n,t);var e=E(n);function n(t){return Object(T.a)(this,n),e.call(this,t)}return Object(_.a)(n)}($);function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(S.a)(t);if(e){var r=Object(S.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(C.a)(this,n)}}var P=function(t){Object(F.a)(n,t);var e=A(n);function n(t,o){return Object(T.a)(this,n),e.call(this,{context:t,value:"DxTextBox",storeId:o})}return Object(_.a)(n)}(N);function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(S.a)(t);if(e){var r=Object(S.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(C.a)(this,n)}}var M=function(t){Object(F.a)(n,t);var e=z(n);function n(t,o){return Object(T.a)(this,n),e.call(this,{context:t,value:"DxTextArea",storeId:o})}return Object(_.a)(n)}(N),V=n(96);function G(object,t){for(;!Object.prototype.hasOwnProperty.call(object,t)&&null!==(object=Object(S.a)(object)););return object}function U(){return U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var base=G(t,e);if(base){var desc=Object.getOwnPropertyDescriptor(base,e);return desc.get?desc.get.call(arguments.length<3?t:n):desc.value}},U.apply(this,arguments)}n(336),n(104),n(78),n(64),n(132),n(117),n(112);var L={Date:"date",DateTime:"datetime",Time:"time"},Q=n(125);function Y(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return H(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,r=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw r}}}}function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var J=function(){function t(e){Object(T.a)(this,t),this.elements=Object(Q.a)({Constant:L,translateName:"dynamicDocuments.dateTypes",context:e})}return Object(_.a)(t,[{key:"filtering",value:function(t){var e={};for(var element in this.elements){var n,o=Y(t);try{for(o.s();!(n=o.n()).done;){+element===n.value&&(e[element]=this.elements[element])}}catch(t){o.e(t)}finally{o.f()}}return e}},{key:"getAll",value:function(){return this.elements}},{key:"getById",value:function(t){return this.elements[t]}}]),t}();function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(S.a)(t);if(e){var r=Object(S.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(C.a)(this,n)}}var X=function(t){Object(F.a)(n,t);var e=W(n);function n(t,o){var r;return Object(T.a)(this,n),(r=e.call(this,{context:t,value:"DxDateBox",storeId:o}))._dateTypes=function(){return Object.values(new J(r.context).getAll())},r._dateType=function(){return{dataField:"dateType",editorType:"dxSelectBox",label:{text:r.context.$t("dynamicDocuments.updateField.dateType")},editorOptions:{showClearButton:!0,dataSource:r._dateTypes(),valueExpr:"id",displayExpr:"text"},isRequired:!0}},r}return Object(_.a)(n,[{key:"fieldSetting",get:function(){return[].concat(Object(V.a)(U(Object(S.a)(n.prototype),"fieldSetting",this)),[this._dateType()])}}]),n}(N);function K(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(S.a)(t);if(e){var r=Object(S.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(C.a)(this,n)}}var Z=function(t){Object(F.a)(n,t);var e=K(n);function n(t,o){return Object(T.a)(this,n),e.call(this,{context:t,value:"DxCheckBox",storeId:o})}return Object(_.a)(n)}(N);function tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(S.a)(t);if(e){var r=Object(S.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(C.a)(this,n)}}var et=function(t){Object(F.a)(n,t);var e=tt(n);function n(t){return Object(T.a)(this,n),e.call(this,t)}return Object(_.a)(n)}($),nt=Object(_.a)((function t(e){return Object(T.a)(this,t),this.options={},this.options={dataField:"isMultiple",label:{text:e.$t("dynamicDocuments.updateField.isMultiple")},editorOptions:{showClearButton:!0},editorType:"dxSwitch"},this.options}));function ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(S.a)(t);if(e){var r=Object(S.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(C.a)(this,n)}}var at=function(t){Object(F.a)(n,t);var e=ot(n);function n(t,o){var r;return Object(T.a)(this,n),(r=e.call(this,{context:t,value:"EmployeeBox",storeId:o}))._isMultiple=function(){return new nt(r.context)},r}return Object(_.a)(n,[{key:"fieldSetting",get:function(){return[].concat(Object(V.a)(U(Object(S.a)(n.prototype),"fieldSetting",this)),[this._isMultiple()])}}]),n}(et);function it(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(S.a)(t);if(e){var r=Object(S.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(C.a)(this,n)}}var ct=function(t){Object(F.a)(n,t);var e=it(n);function n(t,o){var r;return Object(T.a)(this,n),(r=e.call(this,{context:t,value:"RecipientBox",storeId:o}))._isMultiple=function(){return new nt(r.context)},r}return Object(_.a)(n,[{key:"fieldSetting",get:function(){return[].concat(Object(V.a)(U(Object(S.a)(n.prototype),"fieldSetting",this)),[this._isMultiple()])}}]),n}(et);function ut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(S.a)(t);if(e){var r=Object(S.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(C.a)(this,n)}}var st=function(t){Object(F.a)(n,t);var e=ut(n);function n(t,o){return Object(T.a)(this,n),e.call(this,{context:t,value:"BusinessUnitBox",storeId:o})}return Object(_.a)(n)}(et);function lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(S.a)(t);if(e){var r=Object(S.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(C.a)(this,n)}}var ft=function(t){Object(F.a)(n,t);var e=lt(n);function n(t,o){return Object(T.a)(this,n),e.call(this,{context:t,value:"DepartmentBox",storeId:o})}return Object(_.a)(n)}(et);function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(S.a)(t);if(e){var r=Object(S.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(C.a)(this,n)}}var mt=function(t){Object(F.a)(n,t);var e=pt(n);function n(t,o){return Object(T.a)(this,n),e.call(this,{context:t,value:"CounterPartBox",storeId:o})}return Object(_.a)(n)}(et);function xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(S.a)(t);if(e){var r=Object(S.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(C.a)(this,n)}}var ht=function(t){Object(F.a)(n,t);var e=xt(n);function n(t,o){return Object(T.a)(this,n),e.call(this,{context:t,value:"ContactBox",storeId:o})}return Object(_.a)(n)}(et),vt=n(385);function bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(S.a)(t);if(e){var r=Object(S.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(C.a)(this,n)}}var yt=function(t){Object(F.a)(n,t);var e=bt(n);function n(t,o){var r;return Object(T.a)(this,n),(r=e.call(this,{context:t,value:"DocumentBox",storeId:o}))._documentQueries=function(){return Object.values(new vt.a(r.context).getAll())},r._allowDocumentCategories=function(){return{dataField:"documentQuery",editorType:"dxSelectBox",label:{text:r.context.$t("dynamicDocuments.updateField.documentQuery")},editorOptions:{dataSource:r._documentQueries(),valueExpr:"id",displayExpr:"text"},isRequired:!0}},r}return Object(_.a)(n,[{key:"fieldSetting",get:function(){return[].concat(Object(V.a)(U(Object(S.a)(n.prototype),"fieldSetting",this)),[this._allowDocumentCategories()])}}]),n}(et);function gt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(S.a)(t);if(e){var r=Object(S.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(C.a)(this,n)}}var Ot=function(t){Object(F.a)(n,t);var e=gt(n);function n(t,o){return Object(T.a)(this,n),e.call(this,{context:t,value:"AutoCompleteBox",storeId:o})}return Object(_.a)(n)}(N),Bt=function(){function t(){Object(T.a)(this,t)}return Object(_.a)(t,null,[{key:"generatorData",value:function(e){var n=e.editorType,o=e.fieldData;return n?t[n].clearFields(o):dxTextBox.clearFields(o)}}]),t}();Bt.dxTextBox=P,Bt.dxTextArea=M,Bt.dxDateBox=X,Bt.dxCheckBox=Z,Bt.EmployeeBox=at,Bt.RecipientBox=ct,Bt.BusinessUnitBox=st,Bt.DepartmentBox=ft,Bt.CounterPartBox=mt,Bt.ContactBox=ht,Bt.DocumentBox=yt,Bt.AutoCompleteBox=Ot;var wt=function(){function t(e,n){return Object(T.a)(this,t),[new P(e,n).getObject(),new M(e,n).getObject(),new X(e,n).getObject(),new Z(e,n).getObject(),new at(e,n).getObject(),new ct(e,n).getObject(),new st(e,n).getObject(),new ft(e,n).getObject(),new mt(e,n).getObject(),new ht(e,n).getObject(),new yt(e,n).getObject(),new Ot(e,n).getObject()]}return Object(_.a)(t,null,[{key:"getDefaultEditorType",value:function(t,e){return new P(t,e).getObject()}},{key:"getFieldSettingByEditorType",value:function(e,n,o){return o?new t[o](e,n).getObject().dataSource:null}}]),t}();wt.dxTextBox=P,wt.dxTextArea=M,wt.dxDateBox=X,wt.dxCheckBox=Z,wt.DocumentBox=yt,wt.EmployeeBox=at,wt.RecipientBox=ct,wt.BusinessUnitBox=st,wt.DepartmentBox=ft,wt.CounterPartBox=mt,wt.ContactBox=ht,wt.AutoCompleteBox=Ot;var jt=function(t,e,n){wt.getFieldSettingByEditorType(t,e,n)};function Dt(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var Rt={props:{fieldIndex:{},documentType:{}},watch:{fieldIndex:{handler:function(t){t&&(this.currentField=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Dt(Object(source),!0).forEach((function(e){Object(D.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):Dt(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},f.a.getElementById(this,this.documentType,t)),this.fieldSetting=jt(this,this.documentType,this.currentField.editorType))},immediate:!0}},data:function(){return{isUpdating:!1,fieldSetting:jt(this,this.documentType,"dxDateBox"),editorTypes:(t=this,e="constructor",new wt(t,e)),currentField:{}};var t,e},components:{DxForm:I.a,DxSimpleItem:R.DxSimpleItem,DxGroupItem:R.DxGroupItem,DxRequiredRule:R.DxRequiredRule,DxLabel:R.DxLabel,DxButtonItem:R.DxButtonItem},computed:{saveButtonOptions:function(){return{useSubmitBehavior:!0,icon:"save",text:this.$t("dynamicDocuments.buttons.saveAndRender")}},editorTypeOptions:function(){var t=this;return{onValueChanged:function(e){t.currentField=Bt.generatorData({editorType:e.value,fieldData:t.currentField})},onSelectionChanged:function(e){var n;t.isUpdating=!0,t.fieldSetting=null===(n=e.selectedItem)||void 0===n?void 0:n.dataSource,t.isUpdating=!1},showClearButton:!0,valueExpr:"id",displayExpr:"text",dataSource:this.editorTypes,isRequired:!0}}},methods:{saveAndRender:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.changeElement(t,t.documentType,t.currentField);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),Object(dialog.alert)(t.$t("dynamicDocuments.updateField.dataFieldNameError"),t.$t("scanner.alert.error"));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()}}},It=Rt,Tt=Object(l.a)(It,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){return e.preventDefault(),t.saveAndRender.apply(null,arguments)}}},[n("DxForm",{ref:"form",attrs:{"scrolling-enabled":!0,"form-data":t.currentField,"show-colon-after-label":!0,"show-validation-summary":!1,"col-count":1}},[n("DxGroupItem",{attrs:{caption:t.$t("dynamicDocuments.captions.updateField")}},[n("DxButtonItem",{attrs:{horizontalAlignment:"left",buttonOptions:t.saveButtonOptions}}),t._v(" "),n("DxSimpleItem",{attrs:{"data-field":"editorType",editorType:"dxSelectBox",editorOptions:t.editorTypeOptions,isRequired:!0}},[n("DxLabel",{attrs:{text:t.$t("dynamicDocuments.updateField.editorType")}})],1),t._v(" "),t.isUpdating?t._e():n("DxGroupItem",{attrs:{items:t.fieldSetting}})],1)],1)],1)}),[],!1,null,null,null),_t=Tt.exports,Ft=n(2056),Ct=n(569),St=n(567),kt=n(1887),$t=n(1891),qt=n(374),Et=n(151),Nt=n(578),At=n(1889),Pt=n(291),zt=n(376),Mt={components:{DxForm:I.a,AutoCompleteTextArea:$t.a,DocumentSelectBox:kt.a,DepartmentSelectBox:qt.a,EmployeeSelectBox:Et.a,EmployeeTagBox:Nt.a,ContactSelectBox:At.a,BusinessUnitSelectBox:Pt.a,CounterPartSelectBox:zt.a,RecipientSelectBox:Ct.a,RecipientTagBox:St.a},inject:["documentValidatorName"],props:{documentType:{},documentId:{}},data:function(){return{builder:null}},computed:{document:function(){return this.documentId?this.$store.getters["documents/".concat(this.documentId,"/document")]:{}},readOnly:function(){return!!this.documentId&&this.$store.getters["documents/".concat(this.documentId,"/readOnly")]},formElements:function(){var t=f.a.getElements(this,this.documentType),e=new Ft.a(this,t);return e||[]}},methods:{value:function(t){if(this.documentId)return this.$store.getters["documents/".concat(this.documentId,"/value")](t)},onFocusIn:function(data){this.$emit("onFocusField",data.name)},change:function(t,data){this.$store.commit("documents/".concat(this.documentId,"/SET_DYNAMIC_FIELD"),{data:data,value:t})}}},Vt={components:{CustomDrawer:d,Toolbar:j,DynamicDocument:Object(l.a)(Mt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("DxForm",{ref:"form",attrs:{"scrolling-enabled":!0,"show-colon-after-label":!0,"show-validation-summary":!1,"col-count":2,items:t.formElements,"validation-group":t.documentValidatorName},scopedSlots:t._u([{key:"DocumentSelectBox",fn:function(e){var data=e.data;return[n("DocumentSelectBox",{attrs:{readOnly:t.readOnly,dataSourceQuery:data.editorOptions.dataSourceQuery,validationGroup:t.documentValidatorName,isRequired:data.editorOptions.isRequired,value:t.value(data.dataField)},on:{focusIn:function(e){return t.onFocusIn(data)},valueChanged:function(e){return t.change(e,data)}}})]}},{key:"AutoCompleteBox",fn:function(e){var data=e.data;return[n("Auto-complete-text-area",{attrs:{value:t.value(data.dataField),options:{isRequired:data.editorOptions.isRequired,validationGroup:t.documentValidatorName,readOnly:t.readOnly}},on:{focusIn:function(e){return t.onFocusIn(data)},valueChanged:function(e){return t.change(e,data)}}})]}},{key:"CounterPartSelectBox",fn:function(e){var data=e.data;return[n("Counter-part-select-box",{attrs:{readOnly:t.readOnly,isRequired:data.editorOptions.isRequired,validatorGroup:t.documentValidatorName,value:t.value(data.dataField)},on:{focusIn:function(e){return t.onFocusIn(data)},valueChanged:function(e){return t.change(e,data)}}})]}},{key:"ContactSelectBox",fn:function(e){var data=e.data;return[n("Contact-select-box",{attrs:{disabled:t.readOnly,value:t.value(data.dataField)},on:{focusIn:function(e){return t.onFocusIn(data)},valueChanged:function(e){return t.change(e,data)}}})]}},{key:"EmployeeSelectBox",fn:function(e){var data=e.data;return[n("Employee-select-box",{attrs:{"read-only":t.readOnly,validatorGroup:t.documentValidatorName,isRequired:data.editorOptions.isRequired,value:t.value(data.dataField)},on:{focusIn:function(e){return t.onFocusIn(data)},valueChanged:function(e){return t.change(e,data)}}})]}},{key:"EmployeeTagBox",fn:function(e){var data=e.data;return[n("Employee-tag-box",{attrs:{"read-only":t.readOnly,validatorGroup:t.documentValidatorName,isRequired:data.editorOptions.isRequired,value:t.value(data.dataField)},on:{focusIn:function(e){return t.onFocusIn(data)},valueChanged:function(e){return t.change(e,data)}}})]}},{key:"BusinessUnitSelectBox",fn:function(e){var data=e.data;return[n("Business-unit-select-box",{attrs:{"read-only":t.readOnly,isRequired:data.editorOptions.isRequired,validatorGroup:t.documentValidatorName,value:t.value(data.dataField)},on:{focusIn:function(e){return t.onFocusIn(data)},valueChanged:function(e){return t.change(e,data)}}})]}},{key:"DepartmentSelectBox",fn:function(e){var data=e.data;return[n("Department-select-box",{attrs:{"read-only":t.readOnly,isRequired:data.editorOptions.isRequired,validatorGroup:t.documentValidatorName,value:t.value(data.dataField)},on:{focusIn:function(e){return t.onFocusIn(data)},valueChanged:function(e){return t.change(e,data)}}})]}},{key:"RecipientSelectBox",fn:function(e){var data=e.data;return[n("Recipient-select-box",{attrs:{"read-only":t.readOnly,validatorGroup:t.documentValidatorName,value:t.value(data.dataField),isRequired:data.editorOptions.isRequired},on:{focusIn:function(e){return t.onFocusIn(data)},valueChanged:function(e){return t.change(e,data)}}})]}},{key:"RecipientTagBox",fn:function(e){var data=e.data;return[n("Recipient-tag-box",{attrs:{"read-only":t.readOnly,validatorGroup:t.documentValidatorName,value:t.value(data.dataField)||[],isRequired:data.editorOptions.isRequired},on:{focusIn:function(e){return t.onFocusIn(data)},valueChanged:function(e){return t.change(e,data)}}})]}}])})],1)}),[],!1,null,null,null).exports,UpdateField:_t,DxTabbedItem:R.DxTabbedItem,DxTab:R.DxTab,DxGroupItem:R.DxGroupItem,DxSimpleItem:R.DxSimpleItem,DxRequiredRule:R.DxRequiredRule,DxLabel:R.DxLabel,DxForm:I.a},props:{documentType:{default:"create"}},provide:function(){return{trySaveDocumentType:this.trySave,documentValidatorName:null}},data:function(){return{focusedFieldIndex:null,tabPanelOptions:{focusStateEnabled:!1,animationEnabled:!1,swipeEnabled:!1,loop:"true"}}},computed:{documentValidatorName:function(){return"DynamicDocument/".concat(this.documentType)},isNew:function(){return this.$store.getters["dynamicDocumentComponents/".concat(this.documentType,"/isNew")]},documentFlowOptions:function(){var t=this;return{showClearButton:!0,valueExpr:"id",displayExpr:"name",dataSource:this.$store.getters["docflow/docflow"](this),disabled:!this.isNew,value:this.$store.getters["dynamicDocumentComponents/".concat(this.documentType,"/docFlow")],onValueChanged:function(e){t.$store.commit("dynamicDocumentComponents/".concat(t.documentType,"/CHANGE_DOC_FLOW"),e.value)}}},documentTypeOptions:function(){var t=this;return{disabled:!this.isNew,showClearButton:!0,value:this.$store.getters["dynamicDocumentComponents/".concat(this.documentType,"/docType")],onValueChanged:function(e){t.$store.commit("dynamicDocumentComponents/".concat(t.documentType,"/CHANGE_DOC_TYPE"),e.value)}}}},methods:{saveDocument:function(){var t=this;this.$refs.form.instance.validate().isValid&&this.$awn.asyncBlock(f.a.saveType(this,this.documentType),(function(e){t.$awn.success()}),(function(e){t.$awn.alert()}))},trySave:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.checkDataField(t,t.documentType);case 3:t.saveDocument(),e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(0),Object(dialog.alert)(t.$t("dynamicDocuments.updateField.dataFieldNoNameError"),t.$t("scanner.alert.error")),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))()},close:function(){this.$router.go(-1)},setFocusIndex:function(t){this.isNew&&(this.focusedFieldIndex=t)}},created:function(){f.a.generateStore(this,this.documentType)},destroyed:function(){f.a.removeStore(this,this.documentType)}},Gt=(n(2089),Object(l.a)(Vt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Toolbar",{attrs:{fieldIndex:t.focusedFieldIndex,documentType:t.documentType},on:{clearIndex:function(e){return t.setFocusIndex(null)},close:t.close}}),t._v(" "),n("section",{staticClass:"wrapper--relative"},[n("DxForm",{ref:"form",staticClass:"mt-1",attrs:{"scrolling-enabled":!0,"show-colon-after-label":!0,"show-validation-summary":!1,"validation-group":t.documentValidatorName},scopedSlots:t._u([{key:"dynamic-document",fn:function(){return[n("Dynamic-document",{attrs:{documentType:t.documentType},on:{onFocusField:t.setFocusIndex}})]},proxy:!0}])},[n("DxTabbedItem",{attrs:{"tab-panel-options":t.tabPanelOptions}},[n("DxTab",{attrs:{"col-count":6}},[n("DxGroupItem",{attrs:{"col-span":4,"col-count":8}},[n("DxSimpleItem",{attrs:{isRequired:!0,"col-span":8,editorType:"dxTextBox",editorOptions:t.documentTypeOptions}},[n("DxLabel",{attrs:{text:t.$t("dynamicDocuments.fields.documentType")}})],1),t._v(" "),n("DxSimpleItem",{attrs:{isRequired:!0,"col-span":8,editorType:"dxSelectBox",editorOptions:t.documentFlowOptions}},[n("DxLabel",{attrs:{text:t.$t("dynamicDocuments.fields.docFlow")}})],1),t._v(" "),n("DxGroupItem",{attrs:{"col-span":8,"col-count":8,caption:t.$t("dynamicDocuments.captions.dynamic")}},[n("DxSimpleItem",{attrs:{"col-span":8,template:"dynamic-document"}})],1)],1)],1)],1)],1),t._v(" "),n("transition",{attrs:{name:"fade"}},[null!==t.focusedFieldIndex?n("CustomDrawer",{staticClass:"item--drawer--update-box",on:{close:function(){return t.setFocusIndex(null)}}},[n("Update-field",{attrs:{slot:"content",documentType:t.documentType,fieldIndex:t.focusedFieldIndex},slot:"content"})],1):t._e()],1)],1)],1)}),[],!1,null,"7fc1e80c",null));e.a=Gt.exports},1965:function(t,e,n){var content=n(2078);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(38).default)("d0fc2ab4",content,!0,{sourceMap:!1})},1966:function(t,e,n){var content=n(2080);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(38).default)("2218bd0c",content,!0,{sourceMap:!1})},1971:function(t,e,n){var content=n(2090);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(38).default)("a2c2b31a",content,!0,{sourceMap:!1})},2077:function(t,e,n){"use strict";n(1965)},2078:function(t,e,n){var o=n(25)(!1);o.push([t.i,"*{outline:none}.scrool-auto{width:100%;height:100%;overflow:auto}.d-flex{display:flex}.justify-flex-end{justify-content:flex-end}.list__content div{padding-right:5px}.f-size-30{margin:5px;font-size:20px}.js-space-between{align-items:center}.thread-text-status{text-align:right;margin-left:auto;padding:0 5px;font-size:14px}.thread-text-status .task__item{white-space:nowrap}.thread-text-status i{font-size:16px}.mY-1{margin:10px 0}.ml-1{margin-left:1.2em}.current-comment{background:#ecfff46b}.item--status{justify-content:flex-end}.item--status .icon--status{margin:0 5px;display:flex;width:20px;height:100%}.custom-icon{margin:0 5px;display:flex;width:20px;height:100%}.message-body{margin-left:30px}.comment__item{box-sizing:border-box;white-space:normal;border:1px solid #ddd;border-left:2px solid #009a40;padding:5px;border-radius:2px;border-top-left-radius:4px;border-bottom-left-radius:4px}.expired{color:red}.text--bold{font-weight:500}.text-italic{font-style:italic}.link:hover{text-decoration:underline;color:#f90}.container--grid{display:grid;grid-template-columns:1fr 1fr}.container--grid .item{justify-self:flex-start;width:100%}.quide-page{padding:20px 0 20px}.quide-page .quide-page__header{padding:0;margin:0 50px;padding-bottom:20px}.quide-page .quide-page__header .header-title{font-size:26px !important;color:#777}.quide-page .quide-page__header h2{font-weight:450;padding:0;margin:0 !important}.quide-page .title{color:#777}.quide-page .description{color:#aaa;font-size:0.9em}.message{box-sizing:border-box;padding:8px 0;font-size:15px;align-items:center}.message .message__label{display:block;padding-right:8px}.message .message__icon{display:block;font-size:18px;padding-right:8px}.cursive{font-style:italic}.content{line-height:1.5}.content h2{font-size:30px;margin-top:20px;margin-bottom:20px}.content-block{margin-left:40px;margin-right:40px;margin-top:20px}.screen-x-small .content-block{margin-left:20px;margin-right:20px}.responsive-paddings{padding:20px}.screen-large .responsive-paddings{padding:40px}.dx-card.wide-card{border-radius:0;margin-left:0;margin-right:0;border-right:0;border-left:0}.with-footer>.dx-scrollable-wrapper>.dx-scrollable-container>.dx-scrollable-content{height:100%}.with-footer>.dx-scrollable-wrapper>.dx-scrollable-container>.dx-scrollable-content>.dx-scrollview-content{display:flex;flex-direction:column;min-height:100%}#gridContainer{max-height:85vh}.f-direction-column{height:200px;justify-content:space-between;flex-direction:column}.custom-drawer{box-sizing:border-box;padding:8px;border:1px solid #ddd;background:#fff;position:relative}.custom-drawer .closeButton{cursor:pointer;z-index:2;position:absolute;top:30px;left:-97px;width:100px;overflow:hidden}.custom-drawer .custom-drawer-content{box-sizing:border-box;padding:25px;border:1px solid #009a40;border-radius:4px;min-height:94vh;width:550px;top:0;left:0;overflow:hidden;position:absolute;z-index:5}.custom-drawer .custom-button--close{text-align:center;color:#fff;width:100px;padding:5px;font-size:16px;border:1px solid #ddd;background:#009a40;border-radius:4px}.custom-drawer .custom-button--close:focus{background:#00b44b;color:#fff;border:1px solid #00b44b}.custom-drawer .custom-button--close:focused{background:#00b44b;color:#fff;border:1px solid #00b44b}.custom-drawer .custom-button--close:hover{background:#00b44b;color:#fff;border:1px solid #00b44b}\n",""]),t.exports=o},2079:function(t,e,n){"use strict";n(1966)},2080:function(t,e,n){var o=n(25)(!1);o.push([t.i,"\n.navBar[data-v-4bd20320] {\r\n  margin: 5px 0px;\n}\r\n",""]),t.exports=o},2089:function(t,e,n){"use strict";n(1971)},2090:function(t,e,n){var o=n(25)(!1);o.push([t.i,"*[data-v-7fc1e80c]{outline:none}.scrool-auto[data-v-7fc1e80c]{width:100%;height:100%;overflow:auto}.d-flex[data-v-7fc1e80c]{display:flex}.justify-flex-end[data-v-7fc1e80c]{justify-content:flex-end}.list__content div[data-v-7fc1e80c]{padding-right:5px}.f-size-30[data-v-7fc1e80c]{margin:5px;font-size:20px}.js-space-between[data-v-7fc1e80c]{align-items:center}.thread-text-status[data-v-7fc1e80c]{text-align:right;margin-left:auto;padding:0 5px;font-size:14px}.thread-text-status .task__item[data-v-7fc1e80c]{white-space:nowrap}.thread-text-status i[data-v-7fc1e80c]{font-size:16px}.mY-1[data-v-7fc1e80c]{margin:10px 0}.ml-1[data-v-7fc1e80c]{margin-left:1.2em}.current-comment[data-v-7fc1e80c]{background:#ecfff46b}.item--status[data-v-7fc1e80c]{justify-content:flex-end}.item--status .icon--status[data-v-7fc1e80c]{margin:0 5px;display:flex;width:20px;height:100%}.custom-icon[data-v-7fc1e80c]{margin:0 5px;display:flex;width:20px;height:100%}.message-body[data-v-7fc1e80c]{margin-left:30px}.comment__item[data-v-7fc1e80c]{box-sizing:border-box;white-space:normal;border:1px solid #ddd;border-left:2px solid #009a40;padding:5px;border-radius:2px;border-top-left-radius:4px;border-bottom-left-radius:4px}.expired[data-v-7fc1e80c]{color:red}.text--bold[data-v-7fc1e80c]{font-weight:500}.text-italic[data-v-7fc1e80c]{font-style:italic}.link[data-v-7fc1e80c]:hover{text-decoration:underline;color:#f90}.container--grid[data-v-7fc1e80c]{display:grid;grid-template-columns:1fr 1fr}.container--grid .item[data-v-7fc1e80c]{justify-self:flex-start;width:100%}.quide-page[data-v-7fc1e80c]{padding:20px 0 20px}.quide-page .quide-page__header[data-v-7fc1e80c]{padding:0;margin:0 50px;padding-bottom:20px}.quide-page .quide-page__header .header-title[data-v-7fc1e80c]{font-size:26px !important;color:#777}.quide-page .quide-page__header h2[data-v-7fc1e80c]{font-weight:450;padding:0;margin:0 !important}.quide-page .title[data-v-7fc1e80c]{color:#777}.quide-page .description[data-v-7fc1e80c]{color:#aaa;font-size:0.9em}.message[data-v-7fc1e80c]{box-sizing:border-box;padding:8px 0;font-size:15px;align-items:center}.message .message__label[data-v-7fc1e80c]{display:block;padding-right:8px}.message .message__icon[data-v-7fc1e80c]{display:block;font-size:18px;padding-right:8px}.cursive[data-v-7fc1e80c]{font-style:italic}.content[data-v-7fc1e80c]{line-height:1.5}.content h2[data-v-7fc1e80c]{font-size:30px;margin-top:20px;margin-bottom:20px}.content-block[data-v-7fc1e80c]{margin-left:40px;margin-right:40px;margin-top:20px}.screen-x-small .content-block[data-v-7fc1e80c]{margin-left:20px;margin-right:20px}.responsive-paddings[data-v-7fc1e80c]{padding:20px}.screen-large .responsive-paddings[data-v-7fc1e80c]{padding:40px}.dx-card.wide-card[data-v-7fc1e80c]{border-radius:0;margin-left:0;margin-right:0;border-right:0;border-left:0}.with-footer>.dx-scrollable-wrapper>.dx-scrollable-container>.dx-scrollable-content[data-v-7fc1e80c]{height:100%}.with-footer>.dx-scrollable-wrapper>.dx-scrollable-container>.dx-scrollable-content>.dx-scrollview-content[data-v-7fc1e80c]{display:flex;flex-direction:column;min-height:100%}#gridContainer[data-v-7fc1e80c]{max-height:85vh}.f-direction-column[data-v-7fc1e80c]{height:200px;justify-content:space-between;flex-direction:column}.wrapper--relative[data-v-7fc1e80c]{position:relative;min-height:84vh;overflow:hidden}.wrapper--relative .item--drawer--update-box[data-v-7fc1e80c]{box-sizing:border-box;border:1px solid #ddd;border-radius:5px;position:fixed;min-height:94vh;width:555px;bottom:0;right:0}.wrapper--relative .fade-enter[data-v-7fc1e80c],.wrapper--relative .fade-leave-to[data-v-7fc1e80c]{transform:translateX(40vw)}.wrapper--relative .fade-enter-active[data-v-7fc1e80c],.wrapper--relative .fade-leave-active[data-v-7fc1e80c]{transition:transform 0.5s}\n",""]),t.exports=o}}]);
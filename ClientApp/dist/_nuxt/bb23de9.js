(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{1909:function(t,e,o){"use strict";var r=o(458),n=o(256),l={Registration:0,Numeration:1};e.a={Values:l,GetAll:function(t){return[{id:l.Registration,name:t.$t("registrationSettings.settingType.registration")},{id:l.Numeration,name:t.$t("registrationSettings.settingType.numeration")}]},mapToRegisterType:function(t){switch(t){case l.Registration:return r.a.Registration;case l.Numeration:return r.a.Numbering;default:throw"Unsupported mapping from SettingType -> RegisterType"}},mapToNumberingType:function(t){switch(t){case l.Registration:return n.a.Registrable;case l.Numeration:return n.a.Numerable;default:throw"Unsupported mapping from SettingType -> NumberingType"}}}},2311:function(t,e,o){"use strict";o.r(e);o(203),o(64),o(68);var r=o(1909),n=o(27),l=(o(61),o(4)),d=o(103),c=o(67),m={components:{Header:d.a,DxSearchPanel:c.DxSearchPanel,DxDataGrid:c.DxDataGrid,DxColumn:c.DxColumn,DxEditing:c.DxEditing,DxHeaderFilter:c.DxHeaderFilter,DxScrolling:c.DxScrolling,DxLookup:c.DxLookup,DxGrouping:c.DxGrouping,DxGroupPanel:c.DxGroupPanel,DxExport:c.DxExport,DxSelection:c.DxSelection,DxColumnChooser:c.DxColumnChooser,DxColumnFixing:c.DxColumnFixing,DxFilterRow:c.DxFilterRow,DxStateStoring:c.DxStateStoring,DxButton:c.DxButton},data:function(){return{entityType:n.a.RegistrationSetting,dataSource:this.$dxStore({key:"id",loadUrl:l.a.docFlow.RegistrationSetting,removeUrl:l.a.docFlow.RegistrationSetting}),documentFlowDataSource:this.$store.getters["docflow/docflow"](this),settingTypeDataSource:r.a.GetAll(this),statusDataSource:this.$store.getters["status/status"](this),documentRegisterDataSource:{store:this.$dxStore({key:"id",loadUrl:l.a.docFlow.DocumentRegister.Ð¡ustomizableDocumentRegisters}),paginate:!0}}},methods:{edit:function(t){this.$router.push("/docflow/registration-settings/".concat(t.data.id))},canUpdate:function(t){return this.canOperateWithDocumentRegister(t.row.data,"allowUpdating")},allowDeleting:function(t){return this.canOperateWithDocumentRegister(t.row.data,"allowDeleting")},canOperateWithDocumentRegister:function(t,e){this.$store.getters["permissions/employeeId"];return!!this.$store.getters["permissions/IsAdmin"]||this.$store.getters["permissions/".concat(e)](this.entityType)},showRegistrationSettingsForm:function(t){this.$router.push("/docflow/registration-settings/".concat(t.row.data.id))},onToolbarPreparing:function(t){var e=this,o=t.toolbarOptions.items.find((function(t){return"addRowButton"==t.name}));o&&(o.options.onClick=function(){e.$router.push("/docflow/registration-settings/create")})}}},D=o(7),component=Object(D.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",[r("Header",{attrs:{headerTitle:t.$t("docFlow.regSetting.registrationSettings")}}),t._v(" "),r("DxDataGrid",{attrs:{id:"gridContainer","show-borders":!0,"data-source":t.dataSource,"remote-operations":!1,errorRowEnabled:!1,"allow-column-reordering":!0,"allow-column-resizing":!0,"column-auto-width":!0,"load-panel":{enabled:!0,indicatorSrc:o(221)},onRowDblClick:t.edit},on:{"toolbar-preparing":function(e){return t.onToolbarPreparing(e)}}},[r("DxGroupPanel",{attrs:{visible:!0}}),t._v(" "),r("DxGrouping",{attrs:{"auto-expand-all":!1}}),t._v(" "),r("DxExport",{attrs:{enabled:!0,"allow-export-selected-data":!0,"file-name":t.$t("docFlow.fields.documentRegister")}}),t._v(" "),r("DxFilterRow",{attrs:{visible:!0}}),t._v(" "),r("DxHeaderFilter",{attrs:{visible:!0}}),t._v(" "),r("DxColumnChooser",{attrs:{enabled:!0}}),t._v(" "),r("DxColumnFixing",{attrs:{enabled:!0}}),t._v(" "),r("DxStateStoring",{attrs:{enabled:!0,type:"localStorage","storage-key":"DocumentRegister"}}),t._v(" "),r("DxEditing",{attrs:{"allow-deleting":t.allowDeleting,"allow-adding":t.$store.getters["permissions/allowCreating"](t.entityType),useIcons:!0,mode:"form"}}),t._v(" "),r("DxSearchPanel",{attrs:{position:"after",visible:!0}}),t._v(" "),r("DxScrolling",{attrs:{mode:"virtual"}}),t._v(" "),r("DxColumn",{attrs:{"data-field":"name",caption:t.$t("registrationSettings.fields.name"),"data-type":"string"}}),t._v(" "),r("DxColumn",{attrs:{"data-field":"priority",caption:t.$t("registrationSettings.fields.priority")}}),t._v(" "),r("DxColumn",{attrs:{"data-field":"documentFlow",caption:t.$t("shared.documentFlow"),"data-type":"string"}},[r("DxLookup",{attrs:{"allow-clearing":!0,"data-source":t.documentFlowDataSource,"value-expr":"id","display-expr":"name"}})],1),t._v(" "),r("DxColumn",{attrs:{"data-field":"documentRegisterId",caption:t.$t("registrationSettings.fields.documentRegister")}},[r("DxLookup",{attrs:{"allow-clearing":!0,"data-source":t.documentRegisterDataSource,"value-expr":"id","display-expr":"name"}})],1),t._v(" "),r("DxColumn",{attrs:{"data-field":"settingType",caption:t.$t("registrationSettings.fields.settingType")}},[r("DxLookup",{attrs:{"allow-clearing":!0,"data-source":t.settingTypeDataSource,"value-expr":"id","display-expr":"name"}})],1),t._v(" "),r("DxColumn",{attrs:{"data-field":"status",caption:t.$t("shared.status")}},[r("DxLookup",{attrs:{"allow-clearing":!0,"data-source":t.statusDataSource,"value-expr":"id","display-expr":"status"}})],1),t._v(" "),r("DxColumn",{attrs:{type:"buttons"}},[r("DxButton",{attrs:{icon:"more",text:t.$t("shared.more"),onClick:t.showRegistrationSettingsForm}}),t._v(" "),r("DxButton",{attrs:{icon:"trash",name:"delete"}})],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{1882:function(t,e,n){var content=n(1896);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(38).default)("0d39e88e",content,!0,{sourceMap:!1})},1888:function(t,e,n){var content=n(1901);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(38).default)("4fd76f73",content,!0,{sourceMap:!1})},1890:function(t,e,n){"use strict";n(203),n(43);var r={props:{storeKey:{}},components:{DxDateBox:n(1065).DxDateBox},data:function(){return{isVisibleBeforeValueInput:!1,fromValue:localStorage.hasOwnProperty("quick-filter-from-value-".concat(this.storeKey))?localStorage.getItem("quick-filter-from-value-".concat(this.storeKey)):null,beforeValue:localStorage.hasOwnProperty("quick-filter-before-value-".concat(this.storeKey))?localStorage.getItem("quick-filter-before-value-".concat(this.storeKey)):null}},methods:{fromValueChanged:function(t){null===t?localStorage.setItem("quick-filter-from-value-".concat(this.storeKey),""):localStorage.setItem("quick-filter-from-value-".concat(this.storeKey),t),this.$emit("valueChanged",this.filter)},beforeValueChanged:function(t){null===t?localStorage.setItem("quick-filter-before-value-".concat(this.storeKey),""):localStorage.setItem("quick-filter-before-value-".concat(this.storeKey),t),this.$emit("valueChanged",this.filter)},showEndInput:function(){this.isVisibleBeforeValueInput=!0},hideEndInput:function(){this.isVisibleBeforeValueInput=!1}},computed:{filter:function(){var t=this.fromValue?["created",">=",this.fromValue]:null,e=this.beforeValue?["created","<=",this.beforeValue]:null;return this.fromValue&&this.beforeValue?[t,"and",e]:this.fromValue?t:this.beforeValue?e:null}},watch:{fromValue:{handler:function(t){this.fromValueChanged(t)}},beforeValue:{handler:function(t){this.beforeValueChanged(t)}},filter:{handler:function(t,e){this.$emit("valueChanged",this.filter)},immediate:!0}}},o=n(7),l=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex align-center"},[n("DxDateBox",{attrs:{showClearButton:!0,placeholder:t.$t("shared.begining"),useMaskBehavior:!0,allowClearing:!0,openOnFieldClick:!0,type:"datetime",id:"fromValue",max:(new Date).getTime(),dateSerializationFormat:"yyyy-MM-ddTHH:mm:ss","styling-mode":"outlined"},model:{value:t.fromValue,callback:function(e){t.fromValue=e},expression:"fromValue"}}),t._v(" "),n("DxDateBox",{attrs:{showClearButton:!0,placeholder:t.$t("shared.end"),useMaskBehavior:!0,openOnFieldClick:!0,allowClearing:!0,type:"datetime",name:"fromValue",min:t.fromValue,max:(new Date).getTime(),dateSerializationFormat:"yyyy-MM-ddTHH:mm:ss","styling-mode":"outlined"},model:{value:t.beforeValue,callback:function(e){t.beforeValue=e},expression:"beforeValue"}})],1)}),[],!1,null,null,null).exports,c=n(457),d={components:{DxDropDownButton:n.n(c).a,RangeFilter:l},props:{dataSource:{},defaultValue:{default:0},storeKey:{}},data:function(){return{disabledQuickFilter:!1,rangeFilter:null,value:localStorage.hasOwnProperty("quick-filter-".concat(this.storeKey))?+localStorage.getItem("quick-filter-".concat(this.storeKey)):this.defaultValue}},methods:{rangeFilterChanged:function(t){if(this.rangeFilter=t,t){this.disabledQuickFilter=!0;var e=this.dataSource.find((function(t){return"All"===t.value}));this.value=e.id,localStorage.setItem("quick-filter-".concat(this.storeKey),this.value)}else this.disabledQuickFilter=!1},itemClick:function(t){this.value=t.itemData.id,localStorage.setItem("quick-filter-".concat(this.storeKey),this.value)},valueChanged:function(t,e){this.$emit("valueChanged",this.value,this.rangeFilter)}},watch:{rangeFilter:{handler:function(t,e){this.valueChanged(t)},immediate:!0},value:{handler:function(t,e){this.valueChanged(t)},immediate:!0}}},f=Object(o.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex"},[n("RangeFilter",{attrs:{storeKey:t.storeKey},on:{valueChanged:t.rangeFilterChanged}}),t._v(" "),n("DxDropDownButton",{attrs:{disabled:t.disabledQuickFilter,useSelectMode:!0,"styling-mode":"text","display-expr":"text",width:"150","key-expr":"id",selectedItemKey:t.value,items:t.dataSource},on:{"item-click":t.itemClick}})],1)}),[],!1,null,null,null);e.a=f.exports},1893:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiI+PHRpdGxlPkhpZ2hpbXBvcnRhbmNlPC90aXRsZT48cG9seWdvbiBwb2ludHM9IjggMTEgNyAxMSA2IDAgOSAwIDggMTEiIGZpbGw9IiNkNjU2MzMiLz48Y2lyY2xlIGN4PSI3LjUiIGN5PSIxNC41IiByPSIxLjUiIGZpbGw9IiNkNjU2MzMiLz48L3N2Zz4="},1895:function(t,e,n){"use strict";n(1882)},1896:function(t,e,n){var r=n(25)(!1);r.push([t.i,"\n.icon--type {\r\n  display: flex;\r\n  margin: 0 auto;\r\n  width: 25px;\n}\r\n",""]),t.exports=r},1897:function(t,e,n){"use strict";var r=n(1893),o=n.n(r),l=n(571),c={props:["state"],computed:{path:function(){return this.state===l.a.High&&o.a}}},d=(n(1895),n(7)),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.path?n("img",{staticClass:"icon--type",attrs:{src:t.path}}):t._e()])}),[],!1,null,null,null);e.a=component.exports},1900:function(t,e,n){"use strict";n(1888)},1901:function(t,e,n){var r=n(25)(!1);r.push([t.i,"\n.icon--type {\r\n  display: flex;\r\n  margin: 0 auto;\r\n  width: 25px;\n}\r\n",""]),t.exports=r},1903:function(t,e,n){"use strict";var r=n(96),o=(n(336),n(1897)),l=n(382),c={props:["taskTypeGuid"],computed:{icon:function(){var t=new l.a(this).getById(this.taskTypeGuid).icon;return t}}},d=(n(1900),n(7)),f=Object(d.a)(c,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("img",{staticClass:"icon--type",attrs:{src:t.icon}})}),[],!1,null,null,null).exports,h=n(49),m=n(103),x=n(113),y=n.n(x),v=n(61),w=n.n(v),k=n(4),D=n(67),C=(n(124),n(1890)),S=n(570),I=(n(48),n(40),n(43),n(50),n(51),n(104),n(78),n(64),n(132),n(117),n(112),n(14)),O=n(32),_=n(33),F=n(125);function j(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return V(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){c=!0,o=t},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function M(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var P=function(){function t(e,n){Object(O.a)(this,t),this.elements=Object(F.a)(function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?M(Object(source),!0).forEach((function(e){Object(I.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):M(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({Constant:S.a,translateName:"task.quickFilter",context:e},n))}return Object(_.a)(t,[{key:"filtering",value:function(t){var e={};for(var element in this.elements){var n,r=j(t);try{for(r.s();!(n=r.n()).done;){+element===n.value&&(e[element]=this.elements[element])}}catch(t){r.e(t)}finally{r.f()}}return e}},{key:"getAll",value:function(){return this.elements}},{key:"getById",value:function(t){return this.elements[t]}}]),t}(),E={components:{QuickFilter:C.a},props:["taskQuery"],data:function(){return{defaultFilter:S.a.InProcess,"QuiсkFilterGuid":S.a}},computed:{"QuiсkFilterItems":function(){return Object.values(new P(this).getAll()).map((function(t){return t.hint=t.text,t}))}},methods:{valueChanged:function(t,filter){this.$emit("valueChanged",t,filter)}}},T=Object(d.a)(E,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("QuickFilter",{attrs:{defaultValue:t.defaultFilter,dataSource:t.QuiсkFilterItems,storeKey:"task-"+t.taskQuery},on:{valueChanged:t.valueChanged}})],1)}),[],!1,null,null,null).exports,G=n(284);e.a={components:{DxCheckBox:h.DxCheckBox,DxButton:y.a,Header:m.a,DxSearchPanel:D.DxSearchPanel,DxDataGrid:D.DxDataGrid,DxColumn:D.DxColumn,DxEditing:D.DxEditing,DxHeaderFilter:D.DxHeaderFilter,DxScrolling:D.DxScrolling,DxExport:D.DxExport,DxSelection:D.DxSelection,DxLookup:D.DxLookup,DxGrouping:D.DxGrouping,DxGroupPanel:D.DxGroupPanel,DxColumnChooser:D.DxColumnChooser,DxColumnFixing:D.DxColumnFixing,DxFilterRow:D.DxFilterRow,DxStateStoring:D.DxStateStoring,taskIcon:f,taskImportaceComponent:o.a,toolbarItemQuickFilter:T},data:function(){return{statusDataSource:Object(r.a)(Object.values(Object(G.b)(this)))}},methods:{setStore:function(t,filter){this.store=new w.a({store:this.$dxStore({key:"id",loadUrl:"".concat(k.a.task.Task).concat(this.taskQuery,"/").concat(t)}),filter:filter,sort:[{selector:"created",desc:!0}]})},onToolbarPreparing:function(header){header.toolbarOptions.items.unshift({widget:"button",location:"after",options:{icon:"refresh",onClick:this.reload}})},reload:function(){this.store.reload()},toDetail:function(t){var data=t.data;this.$router.push("/task/detail/".concat(data.taskType,"/").concat(data.id))},onRowPrepared:function(t){null!=t.data&&(this.showCompletedTask(t.data,t.rowElement.style),this.showDraftTask(t.data,t.rowElement.style))},showCompletedTask:function(data,style){data.status==G.a.Completed&&(style.textDecoration="line-through")},showDraftTask:function(data,style){data.status==G.a.Draft&&(style.fontStyle="italic")}}}},1982:function(t,e,n){var content=n(2123);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(38).default)("d579435c",content,!0,{sourceMap:!1})},2122:function(t,e,n){"use strict";n(1982)},2123:function(t,e,n){var r=n(25)(!1);r.push([t.i,"\n#gridContainer .dx-data-row {\r\n  -webkit-user-select: none;\n}\n#gridContainer .dx-data-row:hover {\r\n  color: forestgreen;\n}\r\n",""]),t.exports=r},2286:function(t,e,n){"use strict";n.r(e);var r=n(579),o=n(1903),l=(n(61),n(4),{mixins:[o.a],data:function(){return{taskQuery:r.a.ActionItems,store:null}}}),c=(n(2122),n(7)),d={components:{ActionItemExecutionTaskGrid:Object(c.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",[r("Header",{attrs:{isbackButton:!0,headerTitle:t.$t("translations.headers.actionItemExecutionTasks")}},[r("toolbar-item-quick-filter",{attrs:{slot:"toolbar",taskQuery:t.taskQuery},on:{valueChanged:t.setStore},slot:"toolbar"})],1),t._v(" "),r("div",{staticClass:"grid"},[r("DxDataGrid",{attrs:{id:"gridContainer","show-borders":!0,"data-source":t.store,"remote-operations":!0,"allow-column-reordering":!0,"allow-column-resizing":!0,"column-auto-width":!1,"show-column-lines":!1,"load-panel":{enabled:!0,indicatorSrc:n(221)},onRowDblClick:t.toDetail,"on-row-prepared":t.onRowPrepared,"focused-row-enabled":!1},on:{"toolbar-preparing":function(e){return t.onToolbarPreparing(e)}},scopedSlots:t._u([{key:"isImportant",fn:function(t){return[r("task-importace-component",{attrs:{state:t.data.value}})]}},{key:"typeIcon",fn:function(t){return[r("task-icon",{attrs:{taskTypeGuid:t.data.value}})]}}])},[r("DxGroupPanel",{attrs:{visible:!0}}),t._v(" "),r("DxGrouping",{attrs:{"auto-expand-all":!1}}),t._v(" "),r("DxColumnChooser",{attrs:{enabled:!0}}),t._v(" "),r("DxColumnFixing",{attrs:{enabled:!0}}),t._v(" "),r("DxFilterRow",{attrs:{visible:!0}}),t._v(" "),r("DxExport",{attrs:{enabled:!0,"allow-export-selected-data":!0,"file-name":t.$t("task.taskQuery.actionItemExicution")}}),t._v(" "),r("DxStateStoring",{attrs:{enabled:!0,type:"localStorage","storage-key":"task"+t.taskQuery}}),t._v(" "),r("DxEditing",{attrs:{"allow-updating":!1,"allow-deleting":!1,"allow-adding":!1,useIcons:!0,mode:"form"}}),t._v(" "),r("DxSearchPanel",{attrs:{position:"after",visible:!0}}),t._v(" "),r("DxScrolling",{attrs:{mode:"virtual"}}),t._v(" "),r("DxColumn",{attrs:{caption:"","allow-filtering":!1,"allow-sorting":!1,allowResizing:!1,allowReordering:!1,allowHiding:!1,allowHeaderFiltering:!1,allowGrouping:!1,allowFixing:!1,allowExporting:!1,alignment:"center",allowSearch:!1,width:60,cellTemplate:"typeIcon",visible:!0,"data-field":"taskType"}}),t._v(" "),r("DxColumn",{attrs:{caption:"","allow-filtering":!1,"allow-sorting":!1,allowResizing:!1,allowReordering:!1,allowHiding:!1,allowHeaderFiltering:!1,allowGrouping:!1,allowFixing:!1,allowExporting:!1,alignment:"center",allowSearch:!1,width:40,cellTemplate:"isImportant",visible:!0,"data-field":"importance"}}),t._v(" "),r("DxColumn",{attrs:{"data-field":"subject",caption:t.$t("task.fields.subjectTask")}}),t._v(" "),r("DxColumn",{attrs:{"data-field":"maxDeadline",caption:t.$t("translations.fields.deadLine"),"data-type":"date",format:"dd.MM.yyyy HH:mm"}}),t._v(" "),r("DxColumn",{attrs:{"data-field":"created",caption:t.$t("task.fields.createdDate"),"sort-order":"desc","data-type":"date",format:"dd.MM.yyyy HH:mm"}}),t._v(" "),r("DxColumn",{attrs:{"data-field":"author",caption:t.$t("task.fields.author"),"data-type":"string"}}),t._v(" "),r("DxColumn",{attrs:{"data-field":"status",caption:t.$t("translations.fields.status")}},[r("DxLookup",{attrs:{"allow-clearing":!0,"data-source":t.statusDataSource,"value-expr":"id","display-expr":"text"}})],1)],1)],1)],1)}),[],!1,null,null,null).exports}},f=Object(c.a)(d,(function(){var t=this.$createElement;return(this._self._c||t)("Action-item-execution-task-grid")}),[],!1,null,null,null);e.default=f.exports}}]);